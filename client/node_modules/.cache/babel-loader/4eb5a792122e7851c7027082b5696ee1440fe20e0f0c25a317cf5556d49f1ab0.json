{"ast":null,"code":"var _jsxFileName = \"/Users/sebastianfornelli/XcodeProjects/Relacion/CascadeProjects/windsurf-project/client/src/pages/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { listEvents } from '../lib/calendar';\nimport Countdown from '../components/Countdown';\nimport RandomPhoto from '../components/RandomPhoto';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Hardcoded anniversary date: November 24, 2024\n  const anniv = '2024-11-24';\n\n  // Generate automatic special events (only next occurrence of each type)\n  const generateSpecialEvents = () => {\n    const specialEvents = [];\n    const now = new Date();\n    const anniversaryDate = new Date(2024, 10, 24); // November 24, 2024\n\n    // Find next monthiversary/anniversary (24th of next month)\n    let nextMonthiversary = null;\n    for (let i = 0; i < 24; i++) {\n      // Look ahead 24 months\n      const testDate = new Date(now.getFullYear(), now.getMonth() + i, 24);\n      if (testDate > now && testDate >= anniversaryDate) {\n        const isRealAnniversary = testDate.getMonth() === 10; // November\n\n        // Calculate months since anniversary\n        const yearsDiff = testDate.getFullYear() - anniversaryDate.getFullYear();\n        const monthsDiff = testDate.getMonth() - anniversaryDate.getMonth();\n        const totalMonths = yearsDiff * 12 + monthsDiff;\n        if (totalMonths > 0) {\n          let title = '';\n          if (totalMonths >= 12) {\n            const years = Math.floor(totalMonths / 12);\n            const remainingMonths = totalMonths % 12;\n            if (remainingMonths === 0) {\n              title = `${years} ${years === 1 ? 'año' : 'años'} juntos`;\n            } else {\n              title = `${years} ${years === 1 ? 'año' : 'años'} y ${remainingMonths} ${remainingMonths === 1 ? 'mes' : 'meses'} juntos`;\n            }\n          } else {\n            title = `${totalMonths} ${totalMonths === 1 ? 'mes' : 'meses'} juntos`;\n          }\n          if (isRealAnniversary) {\n            title = `¡Aniversario! ${title}`;\n          } else {\n            title = `¡Mesiversario! ${title}`;\n          }\n          nextMonthiversary = {\n            id: `anniversary-${testDate.getFullYear()}-${testDate.getMonth()}`,\n            title,\n            start: {\n              toDate: () => testDate\n            },\n            location: '',\n            eventType: 'conjunto',\n            isSpecialEvent: true,\n            specialType: isRealAnniversary ? 'anniversary' : 'monthiversary'\n          };\n          break;\n        }\n      }\n    }\n    if (nextMonthiversary) {\n      specialEvents.push(nextMonthiversary);\n    }\n\n    // Find next Lucy's birthday (April 21)\n    let nextLucyBirthday = null;\n    for (let year = now.getFullYear(); year <= now.getFullYear() + 1; year++) {\n      const lucyBirthday = new Date(year, 3, 21); // April 21\n      if (lucyBirthday > now) {\n        const lucyAge = year - 2003;\n        if (lucyAge > 0) {\n          nextLucyBirthday = {\n            id: `lucy-birthday-${year}`,\n            title: `¡Cumpleaños de Lucy! ${lucyAge} años`,\n            start: {\n              toDate: () => lucyBirthday\n            },\n            location: '',\n            eventType: 'lucy-birthday',\n            isSpecialEvent: true,\n            specialType: 'birthday'\n          };\n          break;\n        }\n      }\n    }\n    if (nextLucyBirthday) {\n      specialEvents.push(nextLucyBirthday);\n    }\n\n    // Find next Sebas's birthday (November 4)\n    let nextSebasBirthday = null;\n    for (let year = now.getFullYear(); year <= now.getFullYear() + 1; year++) {\n      const sebasBirthday = new Date(year, 10, 4); // November 4\n      if (sebasBirthday > now) {\n        const sebasAge = year - 1998;\n        if (sebasAge > 0) {\n          nextSebasBirthday = {\n            id: `sebas-birthday-${year}`,\n            title: `¡Cumpleaños de Sebas! ${sebasAge} años`,\n            start: {\n              toDate: () => sebasBirthday\n            },\n            location: '',\n            eventType: 'sebas-birthday',\n            isSpecialEvent: true,\n            specialType: 'birthday'\n          };\n          break;\n        }\n      }\n    }\n    if (nextSebasBirthday) {\n      specialEvents.push(nextSebasBirthday);\n    }\n    return specialEvents;\n  };\n  const timeTogether = useMemo(() => {\n    const start = new Date(anniv);\n    const now = new Date();\n    let years = now.getFullYear() - start.getFullYear();\n    let months = now.getMonth() - start.getMonth();\n    let days = now.getDate() - start.getDate();\n    if (days < 0) {\n      months--;\n      const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\n      days += lastMonth.getDate();\n    }\n    if (months < 0) {\n      years--;\n      months += 12;\n    }\n    return {\n      years,\n      months,\n      days\n    };\n  }, [anniv]);\n  useEffect(() => {\n    let isCancelled = false;\n    async function fetchEvents() {\n      setLoading(true);\n      try {\n        const pairId = localStorage.getItem('pairId');\n        if (pairId && !isCancelled) {\n          const upcomingEvents = await listEvents(pairId, {\n            futureOnly: true,\n            max: 3\n          });\n          setEvents(upcomingEvents);\n        }\n      } catch (error) {\n        console.error(\"Error fetching events:\", error);\n      } finally {\n        if (!isCancelled) setLoading(false);\n      }\n    }\n    fetchEvents();\n    return () => {\n      isCancelled = true;\n    };\n  }, []);\n  const nextEvent = useMemo(() => {\n    if (events.length > 0) return events[0];\n    return null;\n  }, [events]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [timeTogether ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: \"Llevamos juntos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-around gap-2 p-3 bg-rose-50/50 rounded-lg\",\n        children: [{\n          value: timeTogether.years,\n          label: 'Año',\n          plural: 'Años'\n        }, {\n          value: timeTogether.months,\n          label: 'Mes',\n          plural: 'Meses'\n        }, {\n          value: timeTogether.days,\n          label: 'Día',\n          plural: 'Días'\n        }].map(({\n          value,\n          label,\n          plural\n        }) => (timeTogether.years > 0 || label !== 'Año') && (\n        // Show years only if > 0\n        timeTogether.months > 0 || label !== 'Mes' || timeTogether.years > 0) &&\n        /*#__PURE__*/\n        // Show months if > 0 or if years are shown\n        _jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl md:text-3xl font-bold text-rose-600\",\n            children: String(value).padStart(2, '0')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: value === 1 ? label : plural\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this)]\n        }, label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Configura tu aniversario en Ajustes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/settings\",\n        className: \"inline-block mt-2 btn-primary\",\n        children: \"Ir a Ajustes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this), nextEvent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: \"Pr\\xF3ximo evento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-lg font-semibold text-gray-900 mb-2\",\n        children: nextEvent.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Countdown, {\n        toDate: nextEvent.start.toDate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-900\",\n          children: \"Pr\\xF3ximos eventos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/calendar\",\n          className: \"btn-link text-sm\",\n          children: \"Ver calendario\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Cargando eventos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this) : events.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2\",\n        children: events.map(ev => {\n          var _ev$start, _ev$start$toDate;\n          const d = (_ev$start = ev.start) === null || _ev$start === void 0 ? void 0 : (_ev$start$toDate = _ev$start.toDate) === null || _ev$start$toDate === void 0 ? void 0 : _ev$start$toDate.call(_ev$start);\n          const when = d ? d.toLocaleDateString('es-ES', {\n            month: 'long',\n            day: 'numeric'\n          }) : '';\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"text-sm flex items-baseline gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-gray-800\",\n              children: ev.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500\",\n              children: when\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this)]\n          }, ev.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No hay pr\\xF3ximos eventos. \\xA1Crea el primero!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RandomPhoto, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"sxQrj4dK6HAMo9Lm/4GXgQ9Ppak=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","listEvents","Countdown","RandomPhoto","jsxDEV","_jsxDEV","Dashboard","_s","events","setEvents","loading","setLoading","anniv","generateSpecialEvents","specialEvents","now","Date","anniversaryDate","nextMonthiversary","i","testDate","getFullYear","getMonth","isRealAnniversary","yearsDiff","monthsDiff","totalMonths","title","years","Math","floor","remainingMonths","id","start","toDate","location","eventType","isSpecialEvent","specialType","push","nextLucyBirthday","year","lucyBirthday","lucyAge","nextSebasBirthday","sebasBirthday","sebasAge","timeTogether","months","days","getDate","lastMonth","isCancelled","fetchEvents","pairId","localStorage","getItem","upcomingEvents","futureOnly","max","error","console","nextEvent","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","label","plural","map","String","padStart","to","ev","_ev$start","_ev$start$toDate","d","call","when","toLocaleDateString","month","day","_c","$RefreshReg$"],"sources":["/Users/sebastianfornelli/XcodeProjects/Relacion/CascadeProjects/windsurf-project/client/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { listEvents } from '../lib/calendar';\nimport Countdown from '../components/Countdown';\nimport RandomPhoto from '../components/RandomPhoto';\n\nexport default function Dashboard() {\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Hardcoded anniversary date: November 24, 2024\n  const anniv = '2024-11-24';\n\n  // Generate automatic special events (only next occurrence of each type)\n  const generateSpecialEvents = () => {\n    const specialEvents = [];\n    const now = new Date();\n    const anniversaryDate = new Date(2024, 10, 24); // November 24, 2024\n    \n    // Find next monthiversary/anniversary (24th of next month)\n    let nextMonthiversary = null;\n    for (let i = 0; i < 24; i++) { // Look ahead 24 months\n      const testDate = new Date(now.getFullYear(), now.getMonth() + i, 24);\n      if (testDate > now && testDate >= anniversaryDate) {\n        const isRealAnniversary = testDate.getMonth() === 10; // November\n        \n        // Calculate months since anniversary\n        const yearsDiff = testDate.getFullYear() - anniversaryDate.getFullYear();\n        const monthsDiff = testDate.getMonth() - anniversaryDate.getMonth();\n        const totalMonths = yearsDiff * 12 + monthsDiff;\n        \n        if (totalMonths > 0) {\n          let title = '';\n          if (totalMonths >= 12) {\n            const years = Math.floor(totalMonths / 12);\n            const remainingMonths = totalMonths % 12;\n            if (remainingMonths === 0) {\n              title = `${years} ${years === 1 ? 'año' : 'años'} juntos`;\n            } else {\n              title = `${years} ${years === 1 ? 'año' : 'años'} y ${remainingMonths} ${remainingMonths === 1 ? 'mes' : 'meses'} juntos`;\n            }\n          } else {\n            title = `${totalMonths} ${totalMonths === 1 ? 'mes' : 'meses'} juntos`;\n          }\n          \n          if (isRealAnniversary) {\n            title = `¡Aniversario! ${title}`;\n          } else {\n            title = `¡Mesiversario! ${title}`;\n          }\n          \n          nextMonthiversary = {\n            id: `anniversary-${testDate.getFullYear()}-${testDate.getMonth()}`,\n            title,\n            start: { toDate: () => testDate },\n            location: '',\n            eventType: 'conjunto',\n            isSpecialEvent: true,\n            specialType: isRealAnniversary ? 'anniversary' : 'monthiversary'\n          };\n          break;\n        }\n      }\n    }\n    \n    if (nextMonthiversary) {\n      specialEvents.push(nextMonthiversary);\n    }\n    \n    // Find next Lucy's birthday (April 21)\n    let nextLucyBirthday = null;\n    for (let year = now.getFullYear(); year <= now.getFullYear() + 1; year++) {\n      const lucyBirthday = new Date(year, 3, 21); // April 21\n      if (lucyBirthday > now) {\n        const lucyAge = year - 2003;\n        if (lucyAge > 0) {\n          nextLucyBirthday = {\n            id: `lucy-birthday-${year}`,\n            title: `¡Cumpleaños de Lucy! ${lucyAge} años`,\n            start: { toDate: () => lucyBirthday },\n            location: '',\n            eventType: 'lucy-birthday',\n            isSpecialEvent: true,\n            specialType: 'birthday'\n          };\n          break;\n        }\n      }\n    }\n    \n    if (nextLucyBirthday) {\n      specialEvents.push(nextLucyBirthday);\n    }\n    \n    // Find next Sebas's birthday (November 4)\n    let nextSebasBirthday = null;\n    for (let year = now.getFullYear(); year <= now.getFullYear() + 1; year++) {\n      const sebasBirthday = new Date(year, 10, 4); // November 4\n      if (sebasBirthday > now) {\n        const sebasAge = year - 1998;\n        if (sebasAge > 0) {\n          nextSebasBirthday = {\n            id: `sebas-birthday-${year}`,\n            title: `¡Cumpleaños de Sebas! ${sebasAge} años`,\n            start: { toDate: () => sebasBirthday },\n            location: '',\n            eventType: 'sebas-birthday',\n            isSpecialEvent: true,\n            specialType: 'birthday'\n          };\n          break;\n        }\n      }\n    }\n    \n    if (nextSebasBirthday) {\n      specialEvents.push(nextSebasBirthday);\n    }\n    \n    return specialEvents;\n  };\n\n  const timeTogether = useMemo(() => {\n    const start = new Date(anniv);\n    const now = new Date();\n\n    let years = now.getFullYear() - start.getFullYear();\n    let months = now.getMonth() - start.getMonth();\n    let days = now.getDate() - start.getDate();\n\n    if (days < 0) {\n      months--;\n      const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\n      days += lastMonth.getDate();\n    }\n\n    if (months < 0) {\n      years--;\n      months += 12;\n    }\n\n    return { years, months, days };\n  }, [anniv]);\n\n  useEffect(() => {\n    let isCancelled = false;\n    async function fetchEvents() {\n      setLoading(true);\n      try {\n        const pairId = localStorage.getItem('pairId');\n        if (pairId && !isCancelled) {\n          const upcomingEvents = await listEvents(pairId, { futureOnly: true, max: 3 });\n          setEvents(upcomingEvents);\n        }\n      } catch (error) {\n        console.error(\"Error fetching events:\", error);\n      } finally {\n        if (!isCancelled) setLoading(false);\n      }\n    }\n    fetchEvents();\n    return () => { isCancelled = true; };\n  }, []);\n\n  const nextEvent = useMemo(() => {\n    if (events.length > 0) return events[0];\n    return null;\n  }, [events]);\n\n  return (\n    <div className=\"space-y-4\">\n      {timeTogether ? (\n        <div className=\"card\">\n          <div className=\"text-sm text-gray-600 mb-2\">Llevamos juntos</div>\n          <div className=\"flex justify-around gap-2 p-3 bg-rose-50/50 rounded-lg\">\n            {[ \n              { value: timeTogether.years, label: 'Año', plural: 'Años' },\n              { value: timeTogether.months, label: 'Mes', plural: 'Meses' },\n              { value: timeTogether.days, label: 'Día', plural: 'Días' } \n            ].map(({ value, label, plural }) => (\n              (timeTogether.years > 0 || label !== 'Año') && // Show years only if > 0\n              (timeTogether.months > 0 || label !== 'Mes' || timeTogether.years > 0) && // Show months if > 0 or if years are shown\n              <div key={label} className=\"text-center\">\n                <div className=\"text-2xl md:text-3xl font-bold text-rose-600\">{String(value).padStart(2, '0')}</div>\n                <div className=\"text-xs text-gray-500\">{value === 1 ? label : plural}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <div className=\"card\">\n          <div className=\"text-sm text-gray-600\">Configura tu aniversario en Ajustes</div>\n          <Link to=\"/settings\" className=\"inline-block mt-2 btn-primary\">Ir a Ajustes</Link>\n        </div>\n      )}\n\n      {nextEvent && (\n        <div className=\"card\">\n          <div className=\"text-sm text-gray-600\">Próximo evento</div>\n          <div className=\"text-lg font-semibold text-gray-900 mb-2\">{nextEvent.title}</div>\n          <Countdown toDate={nextEvent.start.toDate()} />\n        </div>\n      )}\n\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <h3 className=\"font-semibold text-gray-900\">Próximos eventos</h3>\n          <Link to=\"/calendar\" className=\"btn-link text-sm\">Ver calendario</Link>\n        </div>\n        {loading ? (\n          <p className=\"text-gray-500\">Cargando eventos...</p>\n        ) : events.length > 0 ? (\n          <ul className=\"space-y-2\">\n            {events.map(ev => {\n              const d = ev.start?.toDate?.();\n              const when = d ? d.toLocaleDateString('es-ES', { month: 'long', day: 'numeric' }) : '';\n              return (\n                <li key={ev.id} className=\"text-sm flex items-baseline gap-2\">\n                  <span className=\"font-medium text-gray-800\">{ev.title}</span>\n                  <span className=\"text-xs text-gray-500\">{when}</span>\n                </li>\n              );\n            })}\n          </ul>\n        ) : (\n          <p className=\"text-gray-500\">No hay próximos eventos. ¡Crea el primero!</p>\n        )}\n      </div>\n\n      <RandomPhoto />\n\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}